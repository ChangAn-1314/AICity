# AI城市舆情模型微调数据集规范

## 一、数据采集方案

优先收集：
1. 信阳市->河南省各地级市->河南省历史舆情事件（含处置结果）
2. 12345热线投诉数据（脱敏）
3. 地方政策法规文本
4. 城市应急预案文档

标注任务：
- 事件分类（交通/民生/安全/政务等）
- 情感倾向（正/负/中）
- 紧急程度（高/中/低）
- 处置建议（标准回复模板）



### 1.1 数据源清单

| 序号 | 数据源 | 类型 | 采集方式 | 优先级 |
|-----|-------|------|---------|-------|
| 1 | 微博热搜/本地话题 | 社交媒体 | API/爬虫 | 高 |
| 2 | 抖音/小红书本地内容 | 短视频评论 | 爬虫 | 高 |
| 3 | 12345市民热线 | 政务投诉 | 政务开放数据 | 高 |
| 4 | 本地新闻网站 | 新闻报道 | RSS/爬虫 | 中 |
| 5 | 政府公告/政策文件 | 政务公开 | 官网采集 | 中 |
| 6 | 贴吧/论坛 | 社区讨论 | 爬虫 | 低 |
| 7 | 历史舆情案例库 | 案例文档 | 人工整理 | 高 |

### 1.2 采集频率

```
实时采集：社交媒体热点、突发事件
每日采集：新闻报道、政务公告
每周更新：政策法规、规划文档
一次性采集：历史案例、知识库
```

### 1.3 数据脱敏要求

- 删除个人姓名、电话、身份证号
- 模糊化具体地址（保留区级）
- 替换敏感企业名称为代号
- 时间可保留，用于时序分析

---

## 二、数据标注模板

### 2.1 舆情事件标注（event_annotation.jsonl）

```json
{
  "id": "EVT_20251215_001",
  "source": "weibo",
  "raw_text": "信阳某小区暖气不热，居民投诉无门，物业推诿扯皮",
  "timestamp": "2025-12-15T08:30:00+08:00",
  "location": {
    "province": "河南省",
    "city": "信阳市",
    "district": "浉河区",
    "coordinates": [114.0913, 32.1477]
  },
  "annotation": {
    "category": "民生",
    "subcategory": "供暖问题",
    "sentiment": "negative",
    "sentiment_score": -0.75,
    "urgency": "medium",
    "heat_level": "medium",
    "keywords": ["供暖", "物业", "投诉"],
    "entities": [
      {"type": "ORG", "text": "某小区物业", "role": "责任方"},
      {"type": "LOC", "text": "浉河区", "role": "事发地"}
    ],
    "suggested_department": "住建局",
    "response_template_id": "TPL_HEATING_001"
  }
}
```

### 2.2 事件分类体系

```yaml
一级分类:
  民生:
    - 供暖问题
    - 供水供电
    - 物业纠纷
    - 欠薪讨薪
    - 教育医疗
  交通:
    - 道路拥堵
    - 交通事故
    - 公共交通
    - 停车问题
  安全:
    - 火灾事故
    - 治安事件
    - 食品安全
    - 生产安全
  消费:
    - 虚假宣传
    - 消费维权
    - 价格欺诈
    - 售后纠纷
  政务:
    - 行政效率
    - 政策咨询
    - 举报投诉
    - 信息公开
  环境:
    - 噪音扰民
    - 空气污染
    - 垃圾处理
    - 绿化养护
```

### 2.3 情感标注规范

| 标签 | 分值范围 | 示例 |
|-----|---------|------|
| positive | 0.5 ~ 1.0 | "政府处理及时，点赞！" |
| neutral | -0.3 ~ 0.3 | "今天路过看到在施工" |
| negative | -1.0 ~ -0.5 | "投诉多次无人理会，太失望了" |

### 2.4 紧急程度判定

```
critical (紧急): 
  - 涉及人身安全
  - 大规模群体事件
  - 重大舆论危机

high (高):
  - 影响范围广
  - 情绪激烈
  - 媒体关注

medium (中):
  - 常规投诉
  - 局部影响
  - 可控范围

low (低):
  - 咨询建议
  - 个例反馈
  - 历史问题
```

---

## 三、微调数据格式

### 3.1 SFT 指令微调格式

```json
{
  "conversations": [
    {
      "role": "system",
      "content": "你是一个城市舆情分析专家，负责分析舆情事件并提供处置建议。"
    },
    {
      "role": "user", 
      "content": "分析以下舆情：信阳市浉河区某建筑工地拖欠30名农民工工资约50万元，工人聚集在工地门口讨薪，情绪激动。"
    },
    {
      "role": "assistant",
      "content": "## 舆情分析报告\n\n### 基本信息\n- **事件类型**: 民生-欠薪讨薪\n- **发生地点**: 信阳市浉河区\n- **涉及人数**: 约30人\n- **涉及金额**: 约50万元\n\n### 风险评估\n- **紧急程度**: 高\n- **舆情热度**: 中高\n- **情感倾向**: 负面（-0.8）\n- **扩散风险**: 高（临近年末，易引发连锁反应）\n\n### 处置建议\n1. **立即响应**：劳动监察大队介入调查\n2. **资金核查**：核实欠薪金额，冻结相关账户\n3. **现场维稳**：派员现场沟通，疏导情绪\n4. **舆论引导**：发布官方通报，表明处置态度\n5. **跟踪回访**：确保工资发放到位\n\n### 责任部门\n- 主办：人社局劳动监察大队\n- 协办：住建局、公安局、信访局"
    }
  ]
}
```

### 3.2 知识问答格式（RAG增强）

```json
{
  "question": "信阳市供暖投诉应该找哪个部门？",
  "context": "根据《信阳市城市供热管理办法》，市住房和城乡建设局负责全市城市供热的监督管理工作。供热纠纷可拨打12345市民服务热线或直接向住建局投诉。",
  "answer": "信阳市供暖投诉可通过以下渠道：\n1. 拨打12345市民服务热线\n2. 向市住房和城乡建设局投诉\n3. 联系所属供热公司客服\n\n依据：《信阳市城市供热管理办法》"
}
```

### 3.3 多轮对话格式

```json
{
  "conversations": [
    {"role": "user", "content": "信阳今天有什么舆情热点？"},
    {"role": "assistant", "content": "根据实时监测，信阳市今日主要舆情热点：\n1. 【高热度】羊山新区交通拥堵问题持续发酵\n2. 【中热度】浉河区供暖温度不达标投诉\n3. 【低热度】某商场促销纠纷\n\n需要查看哪个事件的详细分析？"},
    {"role": "user", "content": "第一个交通拥堵的详细情况"},
    {"role": "assistant", "content": "## 羊山新区交通拥堵舆情详情\n\n**事件概述**：新七大道与新二十四街交叉口持续拥堵超2小时...(详细分析)"}
  ]
}
```

---

## 四、数据集文件结构

```
dataset/
├── raw/                          # 原始采集数据
│   ├── weibo/
│   ├── news/
│   └── complaints/
├── annotated/                    # 已标注数据
│   ├── events.jsonl              # 事件标注
│   ├── sentiment.jsonl           # 情感标注
│   └── classification.jsonl      # 分类标注
├── training/                     # 训练数据
│   ├── sft_train.jsonl           # SFT训练集
│   ├── sft_eval.jsonl            # SFT验证集
│   ├── qa_pairs.jsonl            # 问答对
│   └── conversations.jsonl       # 多轮对话
├── knowledge_base/               # 知识库
│   ├── policies/                 # 政策法规
│   ├── cases/                    # 历史案例
│   └── templates/                # 回复模板
└── metadata/
    ├── category_schema.yaml      # 分类体系
    ├── label_guidelines.md       # 标注指南
    └── statistics.json           # 数据统计
```

---

## 五、数据量目标

| 数据类型 | 最低要求 | 建议目标 | 当前进度 |
|---------|---------|---------|---------|
| 原始舆情文本 | 10,000条 | 50,000条 | 0 |
| 事件标注 | 2,000条 | 10,000条 | 0 |
| SFT训练对 | 1,000条 | 5,000条 | 0 |
| 问答知识对 | 500条 | 2,000条 | 0 |
| 多轮对话 | 200组 | 1,000组 | 0 |
| 政策法规 | 50篇 | 200篇 | 0 |
| 历史案例 | 100个 | 500个 | 0 |

---

## 六、标注工具推荐

| 工具 | 用途 | 特点 |
|-----|------|------|
| Label Studio | 通用标注 | 开源、支持多种任务 |
| Doccano | 文本标注 | 轻量、易部署 |
| Prodigy | 高效标注 | 主动学习、付费 |
| 自建Excel模板 | 快速启动 | 简单、团队协作 |

---

## 七、质量控制

### 7.1 标注一致性

- 多人标注同一数据，计算Kappa系数
- 目标：Kappa > 0.8

### 7.2 数据清洗

```python
# 清洗规则示例
rules = {
    "min_length": 10,        # 最小文本长度
    "max_length": 2000,      # 最大文本长度
    "remove_duplicates": True,
    "remove_ads": True,      # 移除广告内容
    "remove_nonsense": True  # 移除无意义内容
}
```

### 7.3 抽样验证

- 每批次随机抽取10%进行复核
- 错误率 > 5% 需返工

---

## 八、下一步行动

1. [ ] 搭建数据采集环境
2. [ ] 准备标注团队/工具
3. [ ] 采集第一批原始数据（1000条）
4. [ ] 完成标注指南培训
5. [ ] 启动标注工作
6. [ ] 数据质量检验
7. [ ] 格式转换与训练
