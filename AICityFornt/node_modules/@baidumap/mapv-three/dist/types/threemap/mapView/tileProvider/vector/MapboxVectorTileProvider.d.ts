/**
 * Mapbox矢量瓦片提供者，用于加载和渲染Mapbox矢量瓦片数据。
 * 支持Mapbox样式规范，提供完整的矢量瓦片渲染功能。
 *
 * 主要功能：
 * - 支持Mapbox矢量瓦片加载和解析
 * - 支持Mapbox样式规范（version 8）
 * - 支持多种图层类型（填充、线条、符号、挤压等）
 * - 支持自定义样式和访问令牌
 * - 支持POI标签渲染
 *
 * @category MapView
 * @example
 * ```javascript
 * // 创建Mapbox矢量瓦片提供者
 * const provider = new mapvthree.MapboxVectorTileProvider({
 *     style: 'mapbox://styles/mapbox/streets-v11',
 *     accessToken: 'your_mapbox_access_token'
 * });
 *
 * // 使用自定义样式
 * const customProvider = new mapvthree.MapboxVectorTileProvider({
 *     style: 'path/to/custom-style.json',
 * });
 * ```
 */
export class MapboxVectorTileProvider extends VectorTileProvider {
    /**
     * @param {object} options 配置选项
     * @param {string} [options.style] Mapbox样式URL或本地样式文件路径，默认为 'mapbox://styles/mapbox/streets-v11'
     * @param {string} [options.accessToken] Mapbox访问令牌，如果不提供则使用全局配置
     * @param {object} [options.defaultStyle] 默认样式配置
     * @param {object} [options.displayOptions] 显示选项
     * @param {boolean} [options.displayOptions.background=true] 是否显示背景
     * @param {boolean} [options.displayOptions.base=true] 是否显示基础面
     * @param {boolean} [options.displayOptions.link=true] 是否显示道路
     * @param {boolean} [options.displayOptions.building=true] 是否显示3D建筑物
     * @param {boolean} [options.displayOptions.poi=true] 是否显示POI
     */
    constructor(options?: {
        style?: string | undefined;
        accessToken?: string | undefined;
        defaultStyle?: object | undefined;
        displayOptions?: {
            background?: boolean | undefined;
            base?: boolean | undefined;
            link?: boolean | undefined;
            building?: boolean | undefined;
            poi?: boolean | undefined;
        } | undefined;
    });
    /**
     * 瓦片提供者名称
     * @readonly
     */
    readonly name: "MapboxVectorTileProvider";
    /**
     * 是否渲染占位符
     * @private
     */
    private _shouldRenderPlaceholder;
    /**
     * 默认起始缩放级别
     * @private
     */
    private _defaultStartLevel;
    /**
     * 默认最大缩放级别
     * @private
     */
    private _defaultMaxLevel;
    /**
     * LOD缩放因子
     * @private
     */
    private _lodScaleFactor;
    /**
     * 默认材质集合
     * @private
     */
    private _defaultMaterials;
    /**
     * 符号集合
     * @private
     */
    private _symbols;
    /**
     * 材质管理器
     * @private
     */
    private _materialManager;
    _style: string;
    _accessToken: string | null;
    _defaultStyle: object | undefined;
    _dispalyOptions: {
        background?: boolean | undefined;
        base?: boolean | undefined;
        link?: boolean | undefined;
        building?: boolean | undefined;
        poi?: boolean | undefined;
    };
    _options: {
        style?: string | undefined;
        accessToken?: string | undefined;
        defaultStyle?: object | undefined;
        displayOptions?: {
            background?: boolean | undefined;
            base?: boolean | undefined;
            link?: boolean | undefined;
            building?: boolean | undefined;
            poi?: boolean | undefined;
        } | undefined;
    };
    /**
     * 异步初始化方法
     * 初始化数据加载器和样式
     * @private
     */
    private _asyncInit;
    _dataLoader: AsyncDataTileLoader | undefined;
    /**
     * 加载样式文件
     * 解析Mapbox样式规范并设置相关配置
     * @private
     */
    private _loadStyle;
    _stylePath: string | undefined;
    _sourceUrl: any;
    _styleJSON: any;
    _defaultStyleJSON: any;
    _spriteData: {
        [_: string]: import("../../parser/mapbox/sprite").SpriteDataItem;
    } | undefined;
    _spriteImage: any;
    spriteTexture: any;
    _ready: boolean | undefined;
    /**
     * 获取瓦片JSON配置
     * @param {object} source 数据源配置
     * @returns {Promise<object>} 瓦片JSON配置
     * @private
     */
    private _getTileJson;
    /**
     * 获取样式JSON配置
     * @returns {Promise<Array>} 样式JSON配置数组
     * @private
     */
    private _getStyleJSON;
    /**
     * 获取瓦片URL
     * @param {number} z 缩放级别
     * @param {number} x 瓦片X坐标
     * @param {number} y 瓦片Y坐标
     * @param {object} tile 瓦片对象
     * @returns {string} 瓦片URL
     */
    getTileURL(z: number, x: number, y: number, tile: object): string;
    /**
     * 获取Worker选项
     * @returns {object} Worker选项配置
     */
    getWorkerOptions(): object;
    /**
     * 获取瓦片数据并返回对应的Group对象
     * @param {object} tile 瓦片对象
     * @returns {Promise<Object3D>} 返回一个包含瓦片数据的Group对象
     */
    doRequestVectorTileData(tile: object): Promise<Object3D>;
    /**
     * 取消瓦片请求
     * @param {Array} tiles 要取消的瓦片数组
     */
    cancelTiles(tiles: any[]): void;
    /**
     * 检查是否有缓冲区数据
     * @param {object} bufferData 缓冲区数据
     * @returns {boolean} 是否有有效数据
     * @private
     */
    private _hasBufferData;
    /**
     * 创建背景网格
     * @param {object} data 网格数据
     * @param {string} meshType 网格类型
     * @returns {Mesh} 背景网格对象
     * @private
     */
    private _getBackgroundMesh;
    /**
     * 创建不透明填充网格
     * @param {object} data 网格数据
     * @param {string} meshType 网格类型
     * @returns {Mesh} 不透明填充网格对象
     * @private
     */
    private _getFillOpaqueMesh;
    /**
     * 创建图案填充网格
     * @param {object} data 网格数据
     * @param {string} meshType 网格类型
     * @returns {Mesh} 图案填充网格对象
     * @private
     */
    private _getFillPatternMesh;
    /**
     * 创建半透明填充网格
     * @param {object} data 网格数据
     * @param {string} meshType 网格类型
     * @returns {Mesh} 半透明填充网格对象
     * @private
     */
    private _getFillTranslucentMesh;
    _getLineOpaqueMesh(data: any, meshType: any): any;
    _getLineTranslucentMesh(data: any, meshType: any): any;
    _getLineDashedMesh(data: any, meshType: any, scale: any, tile: any): any;
    _getExtrusionOpaqueMesh(data: any, meshType: any): any;
    _getExtrusionTranslucentMesh(data: any, meshType: any): any;
    /**
     * 获取材质
     * 根据类型创建或获取对应的MVT材质
     * @param {string} type 材质类型
     * @returns {Material} 材质对象
     * @private
     */
    private _getMaterial;
    /**
     * 计算标签容差
     * 针对审图进行的label碰撞特殊处理
     * @param {object} surfaceTile 表面瓦片对象
     * @param {object} engine 引擎对象
     * @param {object} label 标签对象
     * @returns {number} 容差值
     * @private
     */
    private _calculateTolerance;
    /**
     * 设置符号数据
     * @param {object} symbolData 符号数据
     * @param {Object3D} group 组对象
     * @private
     */
    private _setupSymbolData;
    /**
     * 添加瓦片POI标签
     * @param {object} surfaceTile 表面瓦片对象
     * @param {object} engine 引擎对象
     * @private
     */
    private _addTilePOI;
    /**
     * 移除瓦片POI标签
     * @param {object} surfaceTile 表面瓦片对象
     * @param {object} engine 引擎对象
     * @private
     */
    private _removeTilePOI;
    /**
     * 表面瓦片添加时的回调
     * @param {object} surfaceTile 表面瓦片对象
     * @param {object} engine 引擎对象
     */
    onSurfaceTileAdded(surfaceTile: object, engine: object): void;
    /**
     * 表面瓦片移除时的回调
     * @param {object} surfaceTile 表面瓦片对象
     * @param {object} engine 引擎对象
     */
    onSurfaceTileRemoved(surfaceTile: object, engine: object): void;
    /**
     * 添加所有符号
     * 显示所有隐藏的符号标签
     */
    addAllSymbols(): void;
    /**
     * 移除所有符号
     * 隐藏所有显示的符号标签
     */
    removeAllSymbols(): void;
    /**
     * 瓦片销毁时的回调
     * @param {object} tile 瓦片对象
     */
    onTileDispose(tile: object): void;
    /**
     * 设置材质管理器
     * @param {object} materialManager 材质管理器对象
     */
    set materialManager(materialManager: object);
    /**
     * 材质管理器
     * @type {object}
     */
    get materialManager(): object;
}
import { VectorTileProvider } from './VectorTileProvider';
import { AsyncDataTileLoader } from '../AsyncDataTileLoader';
